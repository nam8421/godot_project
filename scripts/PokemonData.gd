extends Node

# 속성 상성표
const TYPE_CHART = {
	"노말": {"바위": 0.5, "고스트": 0, "강철": 0.5},
	"불꽃": {"불꽃": 0.5, "물": 0.5, "풀": 2.0, "얼음": 2.0, "벌레": 2.0, "바위": 0.5, "드래곤": 0.5, "강철": 2.0},
	"물": {"불꽃": 2.0, "물": 0.5, "풀": 0.5, "땅": 2.0, "바위": 2.0, "드래곤": 0.5},
	"전기": {"물": 2.0, "전기": 0.5, "풀": 0.5, "땅": 0, "비행": 2.0, "드래곤": 0.5},
	"풀": {"불꽃": 0.5, "물": 2.0, "풀": 0.5, "독": 0.5, "땅": 2.0, "비행": 0.5, "벌레": 0.5, "바위": 2.0, "드래곤": 0.5, "강철": 0.5},
	"얼음": {"불꽃": 0.5, "물": 0.5, "풀": 2.0, "얼음": 0.5, "땅": 2.0, "비행": 2.0, "드래곤": 2.0, "강철": 0.5},
	"격투": {"노말": 2.0, "얼음": 2.0, "독": 0.5, "비행": 0.5, "에스퍼": 0.5, "벌레": 0.5, "바위": 2.0, "고스트": 0, "강철": 2.0, "페어리": 0.5},
	"독": {"풀": 2.0, "독": 0.5, "땅": 0.5, "바위": 0.5, "고스트": 0.5, "강철": 0},
	"땅": {"불꽃": 2.0, "물": 1.0, "풀": 0.5, "독": 2.0, "전기": 2.0, "비행": 0, "벌레": 0.5, "바위": 2.0, "강철": 2.0},
	"비행": {"전기": 0.5, "풀": 2.0, "격투": 2.0, "벌레": 2.0, "바위": 0.5, "강철": 0.5},
	"에스퍼": {"격투": 2.0, "독": 2.0, "에스퍼": 0.5, "강철": 0.5},
	"벌레": {"불꽃": 0.5, "풀": 2.0, "격투": 0.5, "독": 0.5, "비행": 0.5, "에스퍼": 2.0, "고스트": 0.5, "강철": 0.5, "페어리": 0.5},
	"바위": {"불꽃": 2.0, "얼음": 2.0, "격투": 0.5, "땅": 0.5, "비행": 2.0, "벌레": 2.0, "강철": 0.5},
	"고스트": {"노말": 0, "에스퍼": 2.0, "고스트": 2.0},
	"드래곤": {"드래곤": 2.0, "강철": 0.5, "페어리": 0},
	"강철": {"불꽃": 0.5, "물": 0.5, "전기": 0.5, "얼음": 2.0, "바위": 2.0, "강철": 0.5, "페어리": 2.0},
	"페어리": {"불꽃": 0.5, "격투": 2.0, "독": 0.5, "드래곤": 2.0, "강철": 0.5}
}

# 기술 데이터
const MOVES = {
	"몸통박치기": {"type": "노말", "power": 40, "accuracy": 100},
	"할퀴기": {"type": "노말", "power": 40, "accuracy": 100},
	"울음소리": {"type": "노말", "power": 0, "accuracy": 100, "effect": "attack_down"},
	"덩굴채찍": {"type": "풀", "power": 45, "accuracy": 100},
	"잎날가르기": {"type": "풀", "power": 55, "accuracy": 95},
	"불꽃세례": {"type": "불꽃", "power": 40, "accuracy": 100},
	"화염방사": {"type": "불꽃", "power": 90, "accuracy": 100},
	"물대포": {"type": "물", "power": 40, "accuracy": 100},
	"하이드로펌프": {"type": "물", "power": 110, "accuracy": 80},
	"전기쇼크": {"type": "전기", "power": 40, "accuracy": 100},
	"10만볼트": {"type": "전기", "power": 90, "accuracy": 100},
	"전광석화": {"type": "노말", "power": 40, "accuracy": 100, "priority": 1},
	"물기": {"type": "악", "power": 60, "accuracy": 100},
	"바람일으키기": {"type": "비행", "power": 40, "accuracy": 100},
	"날개치기": {"type": "비행", "power": 60, "accuracy": 100},
	"독침": {"type": "독", "power": 15, "accuracy": 100},
	"두번치기": {"type": "격투", "power": 30, "accuracy": 100}, # 2 hits
	"돌떨구기": {"type": "바위", "power": 50, "accuracy": 90}
}
 
# 포켓몬 데이터 (일부 예시, 전체 데이터는 양이 많아 생략하고 주요 포켓몬만 포함)
# 실제로는 data.py의 내용을 모두 옮겨야 합니다.
const POKEMON_DATA = {
	"이상해씨": {"id": 1, "type": "풀", "hp": 45, "attack": 49, "defense": 49, "moves": ["몸통박치기", "울음소리", "덩굴채찍"]},
	"이상해풀": {"id": 2, "type": "풀", "hp": 60, "attack": 62, "defense": 63, "moves": ["몸통박치기", "잎날가르기", "덩굴채찍"]},
	"이상해꽃": {"id": 3, "type": "풀", "hp": 80, "attack": 82, "defense": 83, "moves": ["몸통박치기", "잎날가르기", "덩굴채찍"]},
	"파이리": {"id": 4, "type": "불꽃", "hp": 39, "attack": 52, "defense": 43, "moves": ["할퀴기", "울음소리", "불꽃세례"]},
	"리자드": {"id": 5, "type": "불꽃", "hp": 58, "attack": 64, "defense": 58, "moves": ["할퀴기", "불꽃세례", "화염방사"]},
	"리자몽": {"id": 6, "type": "불꽃", "hp": 78, "attack": 84, "defense": 78, "moves": ["할퀴기", "화염방사", "날개치기"]},
	"꼬부기": {"id": 7, "type": "물", "hp": 44, "attack": 48, "defense": 65, "moves": ["몸통박치기", "꼬리흔들기", "물대포"]},
	"어니부기": {"id": 8, "type": "물", "hp": 59, "attack": 63, "defense": 80, "moves": ["몸통박치기", "물대포", "물기"]},
	"거북왕": {"id": 9, "type": "물", "hp": 79, "attack": 83, "defense": 100, "moves": ["몸통박치기", "하이드로펌프", "물기"]},
	"캐터피": {"id": 10, "type": "벌레", "hp": 45, "attack": 30, "defense": 35, "moves": ["몸통박치기", "실뿜기"]},
	"단데기": {"id": 11, "type": "벌레", "hp": 50, "attack": 20, "defense": 55, "moves": ["단단해지기"]},
	"버터플": {"id": 12, "type": "벌레", "hp": 60, "attack": 45, "defense": 50, "moves": ["바람일으키기", "염동력"]},
	"뿔충이": {"id": 13, "type": "벌레", "hp": 40, "attack": 35, "defense": 30, "moves": ["독침", "실뿜기"]},
	"딱충이": {"id": 14, "type": "벌레", "hp": 45, "attack": 25, "defense": 50, "moves": ["단단해지기"]},
	"독침붕": {"id": 15, "type": "벌레", "hp": 65, "attack": 90, "defense": 40, "moves": ["독침", "마구찌르기"]},
	"구구": {"id": 16, "type": "비행", "hp": 40, "attack": 45, "defense": 40, "moves": ["몸통박치기", "바람일으키기"]},
	"피죤": {"id": 17, "type": "비행", "hp": 63, "attack": 60, "defense": 55, "moves": ["바람일으키기", "전광석화"]},
	"피죤투": {"id": 18, "type": "비행", "hp": 83, "attack": 80, "defense": 75, "moves": ["바람일으키기", "전광석화", "날개치기"]},
	"꼬렛": {"id": 19, "type": "노말", "hp": 30, "attack": 56, "defense": 35, "moves": ["몸통박치기", "전광석화"]},
	"레트라": {"id": 20, "type": "노말", "hp": 55, "attack": 81, "defense": 60, "moves": ["몸통박치기", "전광석화", "필살앞니"]},
	"깨비참": {"id": 21, "type": "비행", "hp": 40, "attack": 60, "defense": 30, "moves": ["쪼기", "째려보기"]},
	"깨비드릴조": {"id": 22, "type": "비행", "hp": 65, "attack": 90, "defense": 65, "moves": ["쪼기", "회전부리"]},
	"아보": {"id": 23, "type": "독", "hp": 35, "attack": 60, "defense": 44, "moves": ["김밥말이", "독침"]},
	"아보크": {"id": 24, "type": "독", "hp": 60, "attack": 85, "defense": 69, "moves": ["물기", "독침", "김밥말이"]},
	"피카츄": {"id": 25, "type": "전기", "hp": 35, "attack": 55, "defense": 40, "moves": ["전기쇼크", "전광석화", "10만볼트"]},
	"라이츄": {"id": 26, "type": "전기", "hp": 60, "attack": 90, "defense": 55, "moves": ["전기쇼크", "10만볼트", "번개펀치"]},
	"모래두지": {"id": 27, "type": "땅", "hp": 50, "attack": 75, "defense": 85, "moves": ["할퀴기", "모래뿌리기"]},
	"고지": {"id": 28, "type": "땅", "hp": 75, "attack": 100, "defense": 110, "moves": ["할퀴기", "베어가르기"]}
}

func get_type_effectiveness(attack_type, defend_type):
	if attack_type in TYPE_CHART:
		if defend_type in TYPE_CHART[attack_type]:
			return TYPE_CHART[attack_type][defend_type]
	return 1.0
